<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>NovaCraft – Pyramid Parkour</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="./world-style.css"/>
  <style>
    canvas { outline: none; }
    dialog::backdrop { background: rgba(0,0,0,.6); }
  </style>
</head>
<body>
  <div id="hud" class="hud">
    <div id="timer" class="badge">⏱ 00:00</div>
    <div id="falls" class="badge">💥 0 falls</div>
    <div id="checkpoint" class="badge">📍 Start</div>
    <div id="toast" class="toast" hidden></div>
  </div>

  <dialog id="quizModal">
    <form method="dialog">
      <h3 id="quizQuestion">Question</h3>
      <div id="quizChoices"></div>
      <menu>
        <button id="quizCancel" value="cancel">Cancel</button>
      </menu>
    </form>
  </dialog>

  <!-- Your voxel engine bundle must be loaded before the world script. -->
  <!-- Load voxel engine (self-hosted) -->
  <script src="/vendor/novacraft/engine/noa.js"></script>
  <script>
    // Minimal NovaGame stub for standalone runs:
    window.NovaGame = window.NovaGame || { init:()=>{}, levelComplete:()=>{}, send:()=>{} };
  </script>
  <script src="./world-pyramid.js"></script>
  <script>
    // Re-acquire pointer lock when quiz closes (helps with noa)
    window.addEventListener('close', (e) => {
      if (e.target?.id === 'quizModal') {
        try { window.noa?.inputs?.pointerLock?.request(); } catch {}
      }
    }, true);
  </script>
</body>
</html>